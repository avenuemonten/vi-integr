(self.webpackChunk=self.webpackChunk||[]).push([[6374],{147231:function(e,a,t){var l,n=t(619755);(l=n).fn.hackatons=function(e){var a=1316201,t=l(this),n=void 0!==e.regions&&e.regions!==[]?e.regions:[a],i=void 0!==e.pageSize?e.pageSize:null,o=void 0===e.showMoreButton||e.showMoreButton,d=1,s=void 0!==e.lang?e.lang:"ru",r=n[0]===a?[1321901]:[],u="",c="",g="",m="",h="",p="",v=!1,f=null,y=!1,k=null,B=null,M=null,C=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];icHelper.loaderSpin("#"+t.attr("id"));var u=Routing.generate("getHackatonsListAjax",{page:d,pageSize:i,region:JSON.stringify(n),isEnglish:"en"===s,typeTasks:JSON.stringify(r)});l.ajax({method:"GET",global:!0,url:u,dataType:"json"}).done((function(t){t.isAuthUser&&(v=t.isAuthUser),t.team&&(f=t.team.guid,y=t.team.claims&&t.team.claims.length>0);var i="";l.each(t.hackatons,(function(e,t){var l=parseInt(t.order);l<10&&(l="0"+l);var o=null;"undefined"!==t.popularity&&(o=t.popularity>=24.11?k:t.popularity>=14.11?B:M);var d={guid:t.guid,name:t.name,branch:t.branchName,styleBranch:t.styleBranch,company:t.companyName,companyLogo:t.companyLogo?t.companyLogo.originalUrl:null,showButtonJoin:t.showButtonJoin,isAuthUser:v,popularity:o,isEnglish:t.isEnglish,teamGuid:f,id:l,url:!0===v?Routing.generate("getHackatonLctItemWithLang",{hackatonGuid:t.guid,language:s}):n[0]===a?Routing.generate("getHackatonLctItemWithLangUnauth",{hackatonGuid:t.guid,language:s}):Routing.generate("getHackatonItemAjax",{guid:t.guid,lang:s})};i+=mustache.render(c,d)})),!0===t.isShowLoadMoreButton&&!0===o&&(i+=mustache.render(g)),e?l("#hackatonsGrid").append(i):l("#hackatonsGrid").html(i)})).always((function(){icHelper.removeLoader()}))};l(document).ready((function(){n[0]!==a||l("body").hasClass("lct2024")||l("body").addClass("lct2024"),l.ajax({method:"GET",global:!0,url:Routing.generate("getHackatonsListPluginMustacheTemplate",{regionId:n[0],lang:s}),dataType:"xml"}).done((function(e){u=e.getElementById("gridTemplate").firstChild.nodeValue,c=e.getElementById("hackatonCardTemplate").firstChild.nodeValue,g=e.getElementById("loadMoreButtonTemplate").firstChild.nodeValue,m=e.getElementById("modalHasNoTeamTemplate").firstChild.nodeValue,h=e.getElementById("modalHasMeasureRequestTemplate").firstChild.nodeValue,p=e.getElementById("modalDetailsTemplate")?e.getElementById("modalDetailsTemplate").firstChild.nodeValue:null,k=e.getElementById("svgPopularityHigh")?e.getElementById("svgPopularityHigh").firstChild.nodeValue:null,B=e.getElementById("svgPopularityMedium")?e.getElementById("svgPopularityMedium").firstChild.nodeValue:null,M=e.getElementById("svgPopularityLow")?e.getElementById("svgPopularityLow").firstChild.nodeValue:null,t.replaceWith(u),C()})).fail((function(){console.log("Unable to load mustache template")})),l(document).on("click",".loadMore",(function(){return d++,l(this).parent("div").remove(),C(),!1})),l(document).on("click",".typeTasks",(function(){if(l.each(l(".typeTasks"),(function(e){l(this).removeClass("active")})),l(this).addClass("active"),r=[],l.each(l(".typeTasks"),(function(e,a){l(this).hasClass("active")&&r.push(l(this).data("id"))})),C(!1),"1321904"===l(this).data("id").toString()&&n[0]===a){var e="ru"===s?"Граждане РФ":"Russian citizens",t="ru"===s?"Русский":"Russian";l("#citizenBlock").html(e),l("#languageBlock").html(t)}else if(n[0]===a){var i="ru"===s?"Граждане РФ и других стран мира":"Russian citizens and foreigners",o="ru"===s?"Русский и английский":"Russian and English";l("#citizenBlock").html(i),l("#languageBlock").html(o)}return!1})),l(document).on("click",".addMeasureRequest",(function(){if(f&&!y)icHelper.loaderSpin("body"),l.ajax({method:"GET",url:Routing.generate("teamsMeasureRequestFormAsync",{teamGuid:l(this).parent(".addMesReq").data("browse"),taskGuid:l(this).parent(".addMesReq").data("id"),regions:JSON.stringify(n),lang:s})}).done((function(e){icHelper.removeLoader(),icHelper.showModal(e,"Выбери задачу",null,"modal800 modal_userAddTask")})).fail((function(e,a){icHelper.removeLoader(),icHelper.showModal('<div class="div_allModalContent"><div class="div_allInfoModal"><div class="div_img noBlurBkg"><img src="/build/img/alarmLct.png"></div><div class="div_title">'+e.responseJSON.error+"</div></div></div>",null,null,"modal800 modalAllLct")}));else if(y){var e=mustache.render(h);icHelper.showModalAlert(null,'<div class="div_allModalContent"><div class="div_allInfoModal"><div class="div_title">'+e+"</div></div></div>","modal560 modalAllLct")}else{var a=mustache.render(m,{linkAddCommand:Routing.generate("ltcCommandAdd")});icHelper.showModalAlert(null,'<div class="div_allModalContent"><div class="div_allInfoModal"><div class="div_title">'+a+"</div></div></div>","modal560 modalAllLct")}return!1})),l(document).on("click",".details",(function(){if(!v&&n[0]!==a){icHelper.loaderSpin("body");var e=l(this).attr("href");return l.ajax({method:"GET",global:!0,url:e,dataType:"json"}).done((function(e){if("undefined"!=e.data){var a=mustache.render(p,{modalTitle:e.data.name,modalBody:e.data.description,branch:e.data.branch.name,styleBranch:e.data.styleBranch,authUrl:Routing.generate("getHackatonLctItem",{hackatonGuid:e.data.guid})});icHelper.showModalAlert(a,"","modal740 modal_preview")}})).always((function(){icHelper.removeLoader()})),!1}}))}))}}},function(e){e.O(0,[9755],(function(){return a=147231,e(e.s=a);var a}));e.O()}]);